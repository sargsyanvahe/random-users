(this["webpackJsonprandom-users"]=this["webpackJsonprandom-users"]||[]).push([[0],{22:function(e,t,n){},25:function(e,t,n){e.exports=n(39)},34:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),l=n.n(c),u=n(3),o=n(2),s=(n(34),Object(o.g)(Object(u.b)((function(e){return{searchValue:e.search}}),(function(e){return{onSearchChange:function(t){return e(function(e){return{type:"SEARCH_VALUE",value:e}}(t))}}}))((function(e){var t=e.location.pathname,n=e.history,a=e.onSearchChange,c=e.searchValue;return r.a.createElement("div",{className:"header"},r.a.createElement("button",{onClick:function(){n.push("/main"===t?"/edit":"main")},className:"ui button"},"Go to ".concat("/main"===t?"Edit":"Main"," Page")),"/main"===t&&r.a.createElement("div",{className:"ui search"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{onChange:function(e){var t=e.target;return a(t.value)},className:"prompt",type:"text",value:c,placeholder:"Search"}),r.a.createElement("i",{className:"search icon"}))))})))),i={type:"CLOSE_INFO_MODAL"},m=Object(u.b)(null,(function(e){return{openModal:function(t){return e(function(e){return{type:"OPEN_INFO_MODAL",user:e}}(t))}}}))((function(e){var t=e.user,n=e.openModal;return r.a.createElement("tr",{style:{cursor:"pointer"},onClick:function(){return n(t)}},r.a.createElement("td",null,t.name.first),r.a.createElement("td",null,t.name.last),r.a.createElement("td",null,t.nat))})),d=(n(22),function(){return r.a.createElement("div",{className:"ui active inverted dimmer loader-container"},r.a.createElement("div",{className:"ui text loader"}))}),E=["AU","BR","CA","CH","DE","DK","ES","FI","FR","GB","IE","IR","NL","NZ","TR","US"],f=Object(u.b)(null,(function(e){return{addNation:function(t,n){return e(function(e,t){return{type:"ADD_NATION",nat:e,check:t}}(t,n))}}}))((function(e){var t=e.addNation,n=function(e){t(e.target.name,e.target.checked)};return r.a.createElement("div",{className:"nat-container"},E.map((function(e,t){return r.a.createElement("div",{key:t,className:"ui checkbox"},r.a.createElement("input",{type:"checkbox",onChange:n,name:e}),r.a.createElement("label",{htmlFor:e},e))})))})),b=Object(u.b)((function(e){return{users:e.users.users,loading:e.users.loading,page:e.users.page,searchValue:e.filter.searchValue,selectedNations:e.filter.nations}}),(function(e){return{fetchUsers:function(t){return e(function(e){return function(t){t({type:"FETCH_USERS_REQUEST",loading:!0}),fetch("https://randomuser.me/api/?page=".concat(e,"&results=20&seed=abc")).then((function(e){return e.json()})).then((function(e){t({type:"FETCH_USERS_SUCCESS",users:e.results})})).catch((function(e){throw new Error(e)}))}}(t))}}}))((function(e){var t=e.loading,n=e.page,c=e.fetchUsers,l=e.users,u=e.searchValue,o=e.selectedNations,s=Object(a.useCallback)((function(){window.innerHeight+document.documentElement.scrollTop+1>=document.documentElement.scrollHeight&&!t&&(console.log(n+1),c(n+1))}),[c,t,n]);Object(a.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[s]),Object(a.useEffect)((function(){1===n&&c(n)}),[n,c]);var i=l.filter((function(e){var t,n=e.name.first.toLowerCase().includes(u.toLowerCase())||e.name.last.toLowerCase().includes(u.toLowerCase());return t=!o.length||o.includes(e.nat),n&&t}));return r.a.createElement("div",{className:"main-list"},r.a.createElement(f,null),r.a.createElement("table",{className:"ui celled table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First"),r.a.createElement("th",null,"Last"),r.a.createElement("th",null,"Nationality"))),r.a.createElement("tbody",null,i&&i.map((function(e,t){return r.a.createElement(m,{key:t,user:e})})))),t&&r.a.createElement(d,null))})),h=Object(u.b)(null,(function(e){return{changeNation:function(t,n){return e(function(e,t){return{type:"CHANGE_NATION",mail:e,nat:t}}(t,n))}}}))((function(e){var t=e.user,n=e.changeNation;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name.first),r.a.createElement("td",null,t.name.last),r.a.createElement("td",null,r.a.createElement("select",{onChange:function(e){var a=e.target.value;n(t.email,a)},defaultValue:t.nat,className:"ui dropdown"},E.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))))})),p=Object(u.b)((function(e){return{users:e.users.users}}))((function(e){var t=e.users;return r.a.createElement("div",{className:"main-list"},r.a.createElement("table",{className:"ui celled table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First"),r.a.createElement("th",null,"Last"),r.a.createElement("th",null,"Nationality"))),r.a.createElement("tbody",null,t&&t.map((function(e,t){return r.a.createElement(h,{key:t,user:e})})))))})),O=(n(36),Object(u.b)(null,(function(e){return{closeModal:function(){return e(i)}}}))((function(e){var t=e.user,n=e.closeModal;return Object(a.useEffect)((function(){return window.document.body.style.overflow="hidden",function(){window.document.body.style.overflow="scroll"}}),[]),r.a.createElement("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:"modal-container"},r.a.createElement("div",{className:"ui modal"},r.a.createElement("img",{src:t.picture.large,alt:"not found"}),r.a.createElement("h2",null,"".concat(t.name.first," ").concat(t.name.last)),r.a.createElement("h3",null,"city: ".concat(t.location.city," , state: ").concat(t.location.state)),r.a.createElement("h3",null,"country: ".concat(t.location.country," , postcode: ").concat(t.location.postcode)),r.a.createElement("button",{onClick:n,className:"ui secondary button"},"Close")))})));var v=Object(u.b)((function(e){return{user:e.users.selectedUser}}))((function(e){var t=e.user;return r.a.createElement("div",{className:"App"},t&&r.a.createElement(O,{user:t}),r.a.createElement(s,null),r.a.createElement(o.d,null,r.a.createElement(o.a,{exact:!0,from:"/",to:"/main"}),r.a.createElement(o.b,{exact:!0,path:"/main",component:b}),r.a.createElement(o.b,{exact:!0,path:"/edit",component:p})))})),N=(n(37),n(38),n(9)),g=n(24),j=n(11),y=n(4),C={searchValue:"",nations:[]},S={users:[],loading:!1,page:1,openedModal:!1,selectedUser:null},w=Object(N.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_VALUE":return Object(y.a)(Object(y.a)({},e),{},{searchValue:t.value});case"ADD_NATION":return t.check?Object(y.a)(Object(y.a)({},e),{},{nations:[].concat(Object(j.a)(e.nations),[t.nat])}):Object(y.a)(Object(y.a)({},e),{},{nations:e.nations.filter((function(e){return e!==t.nat}))});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{loading:!0,page:e.page+1});case"FETCH_USERS_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{users:[].concat(Object(j.a)(e.users),Object(j.a)(t.users)),loading:!1});case"CHANGE_NATION":var n=e.users.findIndex((function(e){return e.email===t.mail})),a=Object(j.a)(e.users);return a[n].nat=t.nat,Object(y.a)(Object(y.a)({},e),{},{users:a});case"CLOSE_INFO_MODAL":return Object(y.a)(Object(y.a)({},e),{},{openedModal:!1,selectedUser:null});case"OPEN_INFO_MODAL":return Object(y.a)(Object(y.a)({},e),{},{openedModal:!0,selectedUser:t.user});default:return e}}}),_=Object(N.d)(w,Object(N.a)(g.a)),A=n(15);l.a.render(r.a.createElement(A.a,null,r.a.createElement(u.a,{store:_},r.a.createElement(v,null))),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.88fd1c4d.chunk.js.map